pour vérifier l'état des connections au serveur :
```
netstat
netstat -6 -W -c
```

# wifi

pour se connecter à un routeur wifi
```
sudo nano /etc/wpa_supplicant/wpa_supplicant.conf
```
on modifie le fichier pour qu'il ressemble à ceci :
```
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
country=FR

network={
    ssid="Freebox xxx"
    psk="motDePasse"
}
```
il faut aussi changer le pays du wifi dans raspi-config
```
sudo raspi-config
```
-> localisation options

-> change wifi country

# IP fixe

on édite le fichier interfaces `sudo nano /etc/network/interfaces`

```
# interfaces(5) file used by ifup(8) and ifdown(8)

# Please note that this file is written to be used with dhcpcd
# For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'

# Include files from /etc/network/interfaces.d:
#source-directory /etc/network/interfaces.d

auto lo
iface lo inet loopback
auto eth0
allow-hotplug eth0
iface eth0 inet static
address 192.168.4.3
network 192.168.4.0
netmask 255.255.255.0
broadcast 192.168.4.255
gateway 192.168.4.1
```
on arrête le service dhcpcd `sudo disable dhcpcd

comme on n'utilise plus dhcpcd, on peut éditer /etc/resolv.conf à la main :-) `sudo nano /etc/resolv.conf`

```
# Generated by resolvconf
nameserver 192.168.4.1
```
on s'assure que le service resolvconf n'est pas actif 

```
systemctl status resolvconf
Unit resolvconf.service could not be found.
```

# ip dynamique sur un vieux pi

```
sudo rpi-rw
sudo nano /etc/network/interfaces
```
pour passer de ip fixe à dhcp :
```
auto lo
iface lo inet loopback
iface eth0 inet dhcp
```
on commente les lignes du type :
```
#address 192.168.1.32
#netmask 255.255.255.0
#gateway 192.168.1.1
```
pour activer :
```
sudo ifdown eth0; ifup eth0
```
